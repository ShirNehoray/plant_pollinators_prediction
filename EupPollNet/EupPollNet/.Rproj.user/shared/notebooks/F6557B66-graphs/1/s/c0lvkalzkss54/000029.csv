"0",""
"0","# Sampling methods -----"
"0",""
"0","#  Clean Sampling_method: trim spaces, handle NA"
"0","metadata <- metadata %>%"
"0","  mutate(Sampling_method = str_trim(Sampling_method)) %>%"
"0","  mutate(Sampling_method = if_else(Sampling_method == """" | is.na(Sampling_method), "
"0","                                   ""Unspecified"", Sampling_method))"
"0",""
"0","# Assign one Sampling_method per Study_id"
"0","study_sampling <- metadata %>%"
"0","  group_by(Study_id) %>%"
"0","  summarise("
"0","    Sampling_method = first(na.omit(Sampling_method)),"
"0","    .groups = ""drop"""
"0","  ) %>%"
"0","  mutate(Sampling_method = case_when("
"0","    Sampling_method == ""Transect/Random walk"" ~ ""Transect / Random walk"","
"0","    TRUE ~ Sampling_method"
"0","  ))"
"0",""
"0",""
"0","#  Count the unique Study_id per Sampling_method"
"0","sampling_counts <- study_sampling %>%"
"0","  count(Sampling_method, name = ""n_studies"") %>%"
"0","  arrange(desc(n_studies)) %>%"
"0","  mutate(Sampling_method = factor(Sampling_method,"
"0","                                  levels = Sampling_method))  # keep order"
"0",""
"0","# Plot"
"0","ggplot(sampling_counts, "
"0","       aes(x = Sampling_method, y = n_studies)) +"
"0","  geom_col(fill = ""slateblue4"", width = 0.7, colour = ""white"") +  "
"0","  # geom_text(aes(label = n_studies), "
"0","  #           vjust = -0.5, size = 3, fontface = ""bold"", color = ""black"") +"
"0","  labs("
"0","    title = "" Types of Sampling Methods"","
"0","    x = """","
"0","    y = ""Number of Studies"""
"0","  ) +"
"0","  theme_minimal(base_size = 12) +"
"0","  theme("
"0","    axis.text.x = element_text(angle = 45, hjust = 1, size = 11),"
"0","    plot.title = element_text(hjust = 0.5, color = ""black"")"
"0","  )+"
"0","  tme"
